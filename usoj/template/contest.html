{% extends "base.html" %}

{% block content %}
		<div id="content">
			<div id="content-header">
			<div id="breadcrumb">
				<a href="/" title="Go to Home" class="tip-bottom"><i class="icon-home"></i> Home</a>
				<a href="/contest/" class="current">Contest</a>
            </div>
			<div class="container-fluid">
                <div class="row-fluid">
				<div class="span12">
						<div class="widget-box">
							<div class="widget-title">
								<span class="icon"><i class="icon-time"></i></span>
								<h5>Contests</h5>
                                <div class="pagination alternate" style='padding: 6px;margin: 0;float: right;line-height: 6px;'>
                                  <ul>
                                    {% if contests.has_previous %}
                                        <li><a href="?page={{ contests.previous_page_number }}">Prev</a></li>
                                    {% else %}
                                        <li class="disabled"><a href="#">Prev</a></li>
                                    {% endif %}
                                    {% if contests.number >= 3 %}
                                    <li><a href="?page={{contests.number|add:-2}}">{{contests.number|add:-2}}</a> </li>
                                    {% endif %}
                                    {% if contests.number >= 2 %}
                                    <li><a href="?page={{contests.number|add:-1}}">{{contests.number|add:-1}}</a></li>
                                    {% endif %}
                                    <li class="active"><a href="?page={{ contests.number }}">{{ contests.number }}</a></li>
                                    {% if contests.number|add:1 <= contests.paginator.num_pages %}
                                    <li><a href="?page={{contests.number|add:1}}">{{contests.number|add:1}}</a></li>
                                    {% endif %}
                                    {% if contests.number|add:2 <= contests.paginator.num_pages %}
                                    <li><a href="?page={{contests.number|add:2}}">{{contests.number|add:2}}</a></li>
                                    {% endif %}
                                    {% if contests.has_next %}
                                        <li><a href="?page={{ contests.next_page_number }}">Next</a></li>
                                    {% else %}
                                        <li class="disabled"><a href="#">Next</a></li>
                                    {% endif %}
                                  </ul>
                                </div>
							</div>
							<div class="widget-content nopadding">
								<table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>序号</th>
                                                <th>名称</th>
                                                <th>比赛时间</th>
                                                <th>比赛状态</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for contest in contests %}
                                            <tr>
                                                <td style='vertical-align: middle !important; text-align: center;'>{{ contest.id }}</td>
                                                <td style='vertical-align: middle !important; text-align: center;'><a href="/contest/detail/{{contest.id}}/">{{ contest.title }}</a></td>
                                                <td style='vertical-align: middle !important; text-align: center;'>{{ contest.start_time }} - {{ contest.end_time }}</td>
                                                <td style='vertical-align: middle !important; text-align: center;'>
                                                    {% if contest.status == 0 %}
                                                        正在进行
                                                    {% elif contest.status == -1 %}
                                                        已经结束
                                                    {% else %}
                                                        尚未开始
                                                    {% endif %}</td>
                                                    <td style='vertical-align: middle !important; text-align: center;'></td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
							</div>
						</div>
					</div>
				 </div>
			</div>
		</div>
        </div>
        {% endblock %}
        